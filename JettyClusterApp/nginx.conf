# This is a minimal but complete Nginx configuration for load balancing.
events {}

http {
    # Define the group of servers (our Jetty containers) to balance traffic between.
    upstream jetty_cluster {
        server host.docker.internal:8081;
        server host.docker.internal:8082;
    }

    # Define the public-facing server that listens for user requests.
    server {
        listen 80;

        # For any request, pass it to our upstream group.
        location / {
            proxy_pass http://jetty_cluster;
        }
    }
}
